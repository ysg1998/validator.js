<!DOCTYPE html>
<html>
<head>
    <title>Validator.js验证工具</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/default.min.css">
</head>
<body>
<table class="header">
    <tbody>
        <tr>
            <td>
                <div class="nav">
                    <a href="#document">文档</a>
                    <a href="#example">示例</a>
                    <a target="_blank" href="https://github.com/jaywcjlove/validator.js">代码</a>
                </div>
                <div class="container_warpper">
                    <div class="name mb40">Validator.js</div>
                    <div class="desc mb40">
                        <span>轻量级的JavaScript表单验证，字符串验证。没有依赖，支持UMD，~3kb。</span>
                    </div>
                    <div class="gogogo">
                        <a href="#install" class="btn">开始</a>
                    </div>
                </div>
            </td>
        </tr>
    </tbody>
</table>

<div class="container">

    <iframe class="github" src="https://ghbtns.com/github-btn.html?user=jaywcjlove&repo=validator.js&type=star&count=true&size=large" frameborder="0" scrolling="0" width="130px" height="30px"></iframe>
    <iframe class="github" src="https://ghbtns.com/github-btn.html?user=jaywcjlove&repo=validator.js&type=fork&count=true&size=large" frameborder="0" scrolling="0" width="130px" height="30px"></iframe>
    <a href="https://travis-ci.org/jaywcjlove/validator.js" target="_blank"><img src="https://travis-ci.org/jaywcjlove/validator.js.svg?branch=master"></a>

    <h3 class="title" id="example"><span>例子</span></h3>
    

    <form name="example_form" action="#" method="POST" class="form-horizontal">


        <div class="form-group">
            <label for="req">必填字段:</label>
            <input type="text" name="req" id="req" class="form-control" placeholder="必填">
        </div>

        <div class="form-group">
            <label for="alphanumeric">文字字数:</label>
            <input type="text" name="alphanumeric" id="alphanumeric" class="form-control" placeholder="字数大于5，小于15">
        </div>

        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" class="form-control" placeholder="验证是否为Email">
        </div>

        <div class="form-group">
            <label for="minlength">字符长度判断:</label>
            <input type="text" name="minlength" id="minlength" class="form-control" placeholder="至少输入8个字符">
        </div>

        <div class="cleanfix"></div>

        <div class="checkbox">
            <label for="tos_checkbox">
                <input name="tos_checkbox" id="tos_checkbox" type="checkbox"> Required checkbox (example: Terms of Service)
                
            </label>
        </div>

        <button class="btn-default" type="submit" name="submit">Submit</button>
    </form>

<div class="warpper_code">
    
<h3 class="title" id="install"><span>安装使用</span></h3>


<h4 class="title"><span>作为模块使用</span></h4>


<p>在应用中引用 <code>validator.min.js</code> 文件</p>

<pre>
<code class="bash">
  $ npm install validator.tool --save

</code>
</pre>

<p>在 <code>.js</code> 文件中调用</p>


<pre>
<code class="js">
  // 字符串验证
  var validator = require('validator.tool');
  var v = new validator();
  v.isEmail('wowohoo@qq.com');
  v.isIp('192.168.23.3');
  v.isFax('');
  
  // 表单验证
  var a = new validator('example_form',[
      {...}
  ],function(obj,evt){
      if(obj.errors){
          // 判断是否错误
      }
  })

</code></pre>


<h4 class="title"><span>客户端使用</span></h4>

<p>在应用中引用 <code>validator.min.js</code> 文件</p>
<pre>
<code class="html">
  &lt;script type=&quot;text/javascript&quot; src=&quot;dist/validator.min.js&quot;&gt;&lt;/script&gt;

</code>
</pre>

<p>在<code>JS</code>中使用方法。</p>

<pre>
<code class="html">
  &lt;script type="text/javascript"&gt;
    var v = new Validator();
    v.isEmail('wowohoo@qq.com');
    v.isIp('192.168.23.3');
  &lt;/script&gt;

</code></pre>

<p>应用在表单中的方法。</p>
<pre>
<code class="html">
  &lt;form id="example_form"&gt;
      &lt;div&gt;
          &lt;label for="email"&gt;邮箱验证&lt;/label&gt;
          &lt;input type="email" name="email" id="email" class="form-control" placeholder="Email"&gt;
      &lt;/div&gt;
  &lt;/form&gt;
  &lt;script type="text/javascript"&gt;
    var validator = new Validator('example_form',[
      {
          //name 字段
          name: 'email',
          display:"你输入的不{{email}}是合法邮箱|不能为空|太长|太短",
          // 验证条件
          rules: 'is_emil|max_length(12)'
          // rules: 'valid_email|required|max_length(12)|min_length(2)'
      },{
          //name 字段
          name: 'sex',
          display:"请你选择性别{{sex}}",
          // 验证条件
          rules: 'required'
      }
    ],function(obj,evt){
        if(obj.errors){
            // 判断是否错误
        }
    })
  &lt;/script&gt;

</code></pre>


<h3 class="title" id="document"><span>说明文档</span></h3>

<p>应用在表单中的方法。</p>
<pre>
<code class="js">
  new Validator(formName, option, callback)

</code></pre>

<h4 class="title"><span>formName</span></h4>
<p> 参数<code>formName</code> 是标签中 <code>&lt;form&gt;</code> 中的  <code>id</code> 或者 <code>name</code> 的值，如上面的 <code>example_form</code></p>

<h4 class="title"><span>option</span></h4>

<p> 各种参数说明。</p>

<pre>
<code class="js">
  `name` //-> input 中 `name` 对应的值
  `display` //-> 验证错误要提示的文字 `{{这个中间是name对应的值}}` 
  `rules` //-> 一个或多个规则(中间用`|`间隔)
    - `is_emil` //-> 验证合法邮箱
    - `is_ip` //-> 验证合法 ip 地址
    - `is_fax` //-> 验证传真
    - `is_tel` //-> 验证座机
    - `is_phone` //-> 验证手机
    - `is_url` //-> 验证URL
    - `required` //-> 是否为必填
    - `max_length` //-> 最大字符长度
    - `min_length` //-> 最小字符长度

</code></pre>

<p> 以数组的方式将下面参数传入方法中。</p>

<pre><code class="js">
  {
    //name 字段
    name: 'email',
    display:"你输入的不{{email}}是合法邮箱|不能为空|太长|太短",
    // 验证条件
    rules: 'is_emil|max_length(12)'
    // rules: 'valid_email|required|max_length(12)|min_length(2)'
  }

</code></pre>


<h4 class="title"><span>callback</span></h4>


<pre>
<code class="js">
  var validator = new Validator('example_form',[
      {...},{...}
  ],function(obj,evt){
    //obj = {
    //  callback:(error, evt, handles)
    //  errors:Array[2]
    //  fields:Object
    //  form:form#example_form
    //  handles:Object
    //  isCallback:true
    //  isEmail:(field)
    //  isFax:(field)
    //  isIp:(field)
    //  isPhone:(field)
    //  isTel:(field)
    //  isUrl:(field)
    //  maxLength:(field, length)
    //  minLength:(field, length)
    //  required:(field)
    //} 
    if(obj.errors.length>0){
        // 判断是否错误
    }
  })

</code></pre>

<iframe class="github" src="http://ghbtns.com/github-btn.html?user=jaywcjlove&amp;repo=validator.js&amp;type=follow&amp;count=false&amp;size=large" allowtransparency="true" frameborder="0" scrolling="0" width="350px" height="30px"></iframe>

</div>


</div>


<script type="text/javascript" src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
<script type="text/javascript" src="https://rawgit.com/jaywcjlove/validator.js/master/dist/validator.js"></script>
<script type="text/javascript">
hljs.initHighlightingOnLoad();

var validator = new Validator('example_form',[
    {
        name:"req",
        display:"不能为空",
        rules: 'required'
    },{
        name:"alphanumeric",
        display:"字数小于5个字符|大于15个字符",
        rules: 'min_length(5)|max_length(15)'
    },{
        name:"email",
        display:"请输入您的{{email}}|这不是一个邮箱",
        rules: 'required|is_email'
    },{
        name:"minlength",
        display:"不能为空|至少输入8个字符，您输入的{{minlength}}长度少于8",
        rules: 'required|min_length(8)'
    }
],function(obj,evt){
    //obj = {
    //  callback:(error, evt, handles)
    //  errors:Array[2]
    //  fields:Object
    //  form:form#example_form
    //  handles:Object
    //  isCallback:true
    //  isEmail:(field)
    //  isFax:(field)
    //  isIp:(field)
    //  isPhone:(field)
    //  isTel:(field)
    //  isUrl:(field)
    //  maxLength:(field, length)
    //  minLength:(field, length)
    //  required:(field)
    //} 
    if(obj.errors.length>0){
        for (var i = 0; i < obj.errors.length; i++) {
            alert(obj.errors[i].message)
        }
        // 判断是否错误
    }
    console.log(validator);
})
</script>
</body>
</html>